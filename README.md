# 文本查找替换工具

这是一个基于浏览器的纯前端文本处理小工具，旨在帮助用户快速对大段文本进行查找和替换操作。它支持使用正则表达式进行高级匹配，并提供了存档常用表达式、主题切换等便捷功能。

## 主要功能

*   **文本输入与展示**：
    *   提供大文本输入区域粘贴或键入原文。
    *   实时在“处理后文本”区域显示结果，该区域内容可直接编辑。
*   **查找与替换**：
    *   支持输入正则表达式进行文本查找。
    *   高亮显示所有匹配到的文本片段。
    *   提供“替换下一个”和“全部替换”功能。
*   **存档管理**：
    *   用户可以为常用的“正则表达式”及其对应的“替换为”文本命名并存档。
    *   提供下拉列表方便选择已存档的条目，快速填充输入框。
    *   支持删除已存档的条目。
*   **便捷操作**：
    *   一键从剪贴板粘贴内容到原文输入框。
    *   一键复制“处理后文本”区域的内容到剪贴板。
    *   页面状态（如当前输入的正则表达式、原文、替换文本）会自动保存在浏览器本地存储中，刷新页面后可恢复。
*   **个性化**：
    *   支持明亮和暗黑两种主题模式切换。
    *   提供“回到顶部”按钮，方便长文本操作。

## 如何使用

1.  **输入文本**：在“粘贴原文 (源文本)”框中输入或粘贴您想要处理的文本。该文本也会同步显示在下方的“处理后文本 (可编辑)”区域。
2.  **输入查找规则**：
    *   在“正则表达式”输入框中填写您的查找模式。
    *   （可选）在“替换为”输入框中填写您希望替换成的文本。
3.  **查找**：点击“查找”按钮，所有匹配正则表达式的文本片段将在“处理后文本”区域高亮显示。
4.  **替换**：
    *   点击“替换下一个”按钮，将替换当前第一个高亮的匹配项。
    *   点击“全部替换”按钮，将替换所有高亮的匹配项。
5.  **存档与读取**（可选）：
    *   **存档**：输入一个“存档名称”，然后点击“存档此表达式”按钮，可以将当前“正则表达式”和“替换为”的内容保存起来。
    *   **读取**：从“选择已存档 正则/替换”下拉菜单中选择之前保存的条目，对应的正则表达式和替换文本会自动填充。
    *   **删除存档**：选中一个已存档条目后，点击旁边的“删除选中”按钮可将其移除。
6.  **复制结果**：点击“处理后文本”区域右上角或页面底部的“复制”按钮，可以将处理后的文本复制到剪贴板。
7.  **切换主题**：点击页面右上角的“🌙/☀️”按钮可以在明亮和暗黑主题之间切换。

## 技术实现

本工具完全使用 HTML、CSS 和 JavaScript 实现，无需后端服务。所有用户数据（如存档的正则表达式和页面状态）均存储在浏览器的 `localStorage` 中。

## 0520新增功能
- 小地图实现：
    - 在 “已处理文本 ”区域旁添加了 VS 代码风格的小地图。
    - 小地图上的标记表示找到的匹配位置。
    - 点击小地图上的标记，“已处理文本 ”区域就会滚动到相应的匹配位置。
    - 当前选择的匹配项（通过导航）会在小地图上突出显示。
    - 小地图宽度略有增加，以提高可视性。
- 匹配导航控件：
    - 在 “已处理文本 ”区域的标题中添加了 “上一个匹配”（↑）和 “下一个匹配”（↓）按钮，允许用户在 “当前匹配 ”之间导航。
    - 实现 “currentMatchIndex ”以跟踪当前选定的匹配。
- 输出区域滚动到顶部：
    - 在 “已处理文本 ”区域的右下方添加了专用的 “滚动到顶部 ”按钮 (↑)，以便在该特定元素内轻松滚动。
- 增强用户界面和样式：
    - 输出文本显示 "现在具有固定高度和自定义样式的滚动条，使不同主题的外观更现代、更一致。
    - 改进了高亮文本匹配的视觉效果。
    - 改进了 `outputScrollToTopBtn` 的外观（不透明度、大小、图标居中）。
